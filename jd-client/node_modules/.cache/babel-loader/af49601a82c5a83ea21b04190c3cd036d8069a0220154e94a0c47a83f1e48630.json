{"ast":null,"code":"import { ElMessage } from 'element-plus';\nexport default {\n  data() {\n    return {\n      commentList: [{\n        goodsCommentId: 1,\n        goodsId: 171,\n        goodsCommentMessage: \"终于换上心心念的洗烘一体的啦，非常完美，阴天再也不怕衣服没太阳了，小朋友的衣服都可以烘干一下，洗衣服的时候也没有噪音，很喜欢，遇到国补，非常划算\",\n        userPicture: 'https://misc.360buyimg.com/user/myjd-2015/css/i/peisong.jpg',\n        userName: 'j***e'\n      }],\n      titleImage: \"https://img10.360buyimg.com/n1/jfs/t1/264409/38/13856/102861/678dcfdaFb723c58f/5b97cf154bbba96c.jpg.avif\",\n      detailData: {\n        \"goodsId\": 171,\n        \"goodsInfo\": \"小米 REDMI K80 国家补贴 第三代骁龙 8 6550mAh大电池 澎湃OS 玄夜黑 12GB+256GB 红米5G至尊手机\",\n        \"goodsOldPrice\": \"None\",\n        \"goodsNewPrice\": \"2499.00\",\n        \"goodsTypeId\": 2,\n        \"commentNum\": \"20万+\",\n        \"shop\": {\n          \"shopId\": 69,\n          \"merchantId\": null,\n          \"shopName\": \"小米京东自营旗舰店\"\n        },\n        \"goodsTitleImages\": [{\n          \"goodsImageUrl\": \"https://img10.360buyimg.com/n5/s54x54_jfs/t1/264409/38/13856/102861/678dcfdaFb723c58f/5b97cf154bbba96c.jpg.avif\",\n          \"goodsId\": 171\n        }],\n        \"goodsDetailsImages\": [],\n        \"deliveryServiceType\": [{\n          \"deliveryServiceTypeID\": 7,\n          \"serviceName\": \"59元免基础运费\"\n        }]\n      }\n    };\n  },\n  mounted() {\n    this.$api.getDeliveryDataByGoodsId(localStorage.detailPageGoodsId).then(res => {\n      if (res.data.success) {\n        this.detailData = res.data.data;\n        this.titleImage = this.detailData.goodsTitleImages[0].goodsImageUrl.replace('n5', 'n1').replace('s54x54_', '');\n        //第一次的请求完成后开始第二次的请求获取商品的评论\n        this.$api.goodsComments(this.detailData.goodsId).then(res => {\n          if (res.data.success) {\n            this.commentList = res.data.data;\n          }\n        });\n      }\n    });\n  },\n  methods: {\n    changeTitleImage(imageUrl) {\n      this.titleImage = imageUrl.replace('n5', 'n1').replace('s54x54_', '');\n    },\n    addToCart(goodsId) {\n      this.$api.addGoodsToShoppingCart(goodsId).then(res => {\n        if (res.data.success) {\n          ElMessage({\n            message: res.data.msg,\n            type: 'success'\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["ElMessage","data","commentList","goodsCommentId","goodsId","goodsCommentMessage","userPicture","userName","titleImage","detailData","mounted","$api","getDeliveryDataByGoodsId","localStorage","detailPageGoodsId","then","res","success","goodsTitleImages","goodsImageUrl","replace","goodsComments","methods","changeTitleImage","imageUrl","addToCart","addGoodsToShoppingCart","message","msg","type"],"sources":["E:\\schoolProject\\JD-project\\jd-client\\src\\views\\detail\\DetailView.vue"],"sourcesContent":["<template>\r\n    <el-row>\r\n        <el-col :span=\"24\" style=\"text-align: right;background-color: rgb(242, 242, 242);color:rgb(127, 127, 118);padding:10px;\">\r\n           {{ detailData.shop.shopName }}\r\n        </el-col>\r\n    </el-row>\r\n    <el-row>\r\n        <el-col :span=\"4\"/>\r\n        <el-col :span=\"16\" style=\"min-height: 40vh;margin-top:10px;\">\r\n            <el-row>\r\n                <el-col :span=\"8\">\r\n                    <el-row>\r\n                        <el-col :span=\"24\" >\r\n                            <img style=\"width:100%\" :src=\"titleImage\">\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"24\" style=\"margin-top: 10px;\">\r\n                            <img :src=\"item.goodsImageUrl\" \r\n                            class=\"list-img\" v-for=\"(item,index) in detailData.goodsTitleImages\" :key=\"index\"\r\n                            @mouseover=\"changeTitleImage(item.goodsImageUrl)\">\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-col>\r\n                <el-col :span=\"13\" style=\"padding:10px;\">\r\n                    <el-row >\r\n                        <el-col :span=\"24\" style=\"line-height: 26px;font-weight: bold;\">\r\n                            {{ detailData.goodsInfo }}\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row style=\"background-color:rgb(243, 243, 243);padding:10px;margin-top:10%\">\r\n                        <el-col :span=\"24\">\r\n                            <el-row>\r\n                                <el-col :span=\"20\">\r\n                                    <el-row>\r\n                                        <el-col :span=\"4\" style=\"line-height:40px\">\r\n                                            价 格 :\r\n                                        </el-col>\r\n                                        <el-col :span=\"20\">\r\n                                            <span style=\"color:red;font-weight: bold;\">\r\n                                                ￥\r\n                                                <span style=\"font-size: 26px;\">\r\n                                                    {{ detailData.goodsNewPrice }}\r\n                                                </span>\r\n                                                <span style=\"font-weight: normal;\">\r\n                                                    到手价\r\n                                                </span>\r\n                                            </span>\r\n                                            <span v-if=\"detailData.goodsOldPrice!='None'\">\r\n                                               {{ detailData.goodsOldPrice }} 京东价\r\n                                            </span>\r\n                                            <span style=\"color:rgb(33, 104, 179)\" v-if=\"detailData.goodsOldPrice!='None'\">\r\n                                                降价通知\r\n                                            </span>\r\n                                        </el-col>\r\n                                    </el-row>\r\n                                </el-col>\r\n                                <el-col :span=\"4\" style=\"text-align: right;\">\r\n                                    <div>\r\n                                        累计评价\r\n                                    </div>\r\n                                    <div style=\"color:rgb(0, 94, 167)\">\r\n                                        {{ detailData.commentNum }}\r\n                                    </div>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row style=\"padding:10px;margin-top:10%\">\r\n                        <el-col :sapn=\"4\">\r\n                            配 送 服 务:\r\n                        </el-col>\r\n                        <el-col :span=\"20\" style=\"font-size: 13px;margin-top: 10px;\">\r\n                            <span style=\"color:rgb(108, 124, 191);padding:10px;\" v-for=\"(item,index) in detailData.deliveryServiceType\" :key=\"index\">\r\n                                {{ item.serviceName }}\r\n                            </span>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row style=\"padding: 10px;margin-top:10%\">\r\n                        <el-col :span=\"24\">\r\n                            <input type=\"button\" style=\"\r\n                            color:white;\r\n                            background-color: rgb(223, 48, 51);\r\n                            font-weight: bold;\r\n                            border:none;\r\n                            padding:10px 20px;;\" value=\"加 入 购 物 车\"\r\n                            @click.prevent=\"addToCart(detailData.goodsId)\">\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-col>\r\n                <el-col :span=\"3\">\r\n                    <h3 style=\"text-align: center;\">看了又看</h3>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row style=\"margin-top:10vh\">\r\n                <el-col :span=\"24\">\r\n                    <el-row>\r\n                        <el-col :span=\"24\">\r\n                            <h2>商品介绍</h2>   \r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row style=\"padding:10px;\">\r\n                        <el-col :span=\"8\">\r\n                            <span class=\"detail-title\">\r\n                                商品名称：\r\n                            </span>\r\n                            <span class=\"detail-title-content\">\r\n                                {{ detailData.goodsInfo }}\r\n                            </span>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <sapn class=\"detail-title\">\r\n                                商品编号：\r\n                            </sapn>\r\n                            <span class=\"detail-title-content\">\r\n                                {{ detailData.goodsId }}\r\n                            </span>\r\n                        </el-col>\r\n                        <el-col :span=\"8\">\r\n                            <span class=\"detail-title\">\r\n                                店铺：\r\n                            </span>\r\n                            <span class=\"detail-title-content\">\r\n                                {{ detailData.shop.shopName }}\r\n                            </span>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"24\" style=\"margin-top:10vh\">\r\n                            <img v-for=\"(item,index) in detailData.goodsDetailsImages\" :key=\"index\" \r\n                            :src=\"item.goodsDetailsUrl\">\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-col>\r\n            </el-row>\r\n            <!-- 评论区 -->\r\n            <el-row style=\"margin-top:10vh\">\r\n                <el-col :span=\"24\">\r\n                    <h2>商品评价</h2>   \r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-row v-for=\"(item,index) in commentList\" :key=\"index\" style=\"margin-top:5vh;margin-bottom: 5vh;border-bottom: 1px solid rgb(221, 221, 221);padding-bottom: 3vh;\">\r\n                        <el-col :span=\"3\" style=\"display: flex; align-items: center;\">\r\n                            <el-avatar :size=\"30\" :src=\"item.userPicture\" />\r\n                            <span style=\"font-size: 13px; line-height: normal; display: inline-block; height: auto; margin-left: 8px;\">\r\n                                {{ item.userName }}\r\n                            </span>\r\n                        </el-col>\r\n                        <el-col :span=\"20\">\r\n                            <span>\r\n                                {{ item.goodsCommentMessage }}\r\n                            </span>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-col>\r\n            </el-row>\r\n        </el-col>\r\n        <el-col :span=\"4\"/>\r\n    </el-row>\r\n</template>\r\n<script>\r\nimport { ElMessage } from 'element-plus';\r\nexport default{\r\n    data(){\r\n        return{\r\n            commentList:[\r\n                {\r\n                    goodsCommentId:1,\r\n                    goodsId:171,\r\n                    goodsCommentMessage:\"终于换上心心念的洗烘一体的啦，非常完美，阴天再也不怕衣服没太阳了，小朋友的衣服都可以烘干一下，洗衣服的时候也没有噪音，很喜欢，遇到国补，非常划算\",\r\n                    userPicture:'https://misc.360buyimg.com/user/myjd-2015/css/i/peisong.jpg',\r\n                    userName:'j***e'\r\n                }\r\n            ],\r\n            titleImage:\"https://img10.360buyimg.com/n1/jfs/t1/264409/38/13856/102861/678dcfdaFb723c58f/5b97cf154bbba96c.jpg.avif\",\r\n            detailData:{\r\n        \"goodsId\": 171,\r\n        \"goodsInfo\": \"小米 REDMI K80 国家补贴 第三代骁龙 8 6550mAh大电池 澎湃OS 玄夜黑 12GB+256GB 红米5G至尊手机\",\r\n        \"goodsOldPrice\": \"None\",\r\n        \"goodsNewPrice\": \"2499.00\",\r\n        \"goodsTypeId\": 2,\r\n        \"commentNum\": \"20万+\",\r\n        \"shop\": {\r\n            \"shopId\": 69,\r\n            \"merchantId\": null,\r\n            \"shopName\": \"小米京东自营旗舰店\"\r\n        },\r\n        \"goodsTitleImages\": [\r\n            {\r\n                \"goodsImageUrl\": \"https://img10.360buyimg.com/n5/s54x54_jfs/t1/264409/38/13856/102861/678dcfdaFb723c58f/5b97cf154bbba96c.jpg.avif\",\r\n                \"goodsId\": 171\r\n            }\r\n        ],\r\n        \"goodsDetailsImages\": [],\r\n        \"deliveryServiceType\": [\r\n            {\r\n                \"deliveryServiceTypeID\": 7,\r\n                \"serviceName\": \"59元免基础运费\"\r\n            }\r\n        ]\r\n    }\r\n        }\r\n    },\r\n    mounted(){\r\n        this.$api.getDeliveryDataByGoodsId(\r\n            localStorage.detailPageGoodsId\r\n        ).then(res=>{\r\n            if(res.data.success){\r\n                this.detailData=res.data.data\r\n                this.titleImage=this.detailData.goodsTitleImages[0].goodsImageUrl.replace('n5','n1').replace('s54x54_','')\r\n                //第一次的请求完成后开始第二次的请求获取商品的评论\r\n                this.$api.goodsComments(this.detailData.goodsId).then(res=>{\r\n                    if(res.data.success){\r\n                        this.commentList=res.data.data\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    },\r\n    methods:{\r\n        changeTitleImage(imageUrl){\r\n            this.titleImage=imageUrl.replace('n5','n1').replace('s54x54_','')\r\n        },\r\n        addToCart(goodsId){\r\n            this.$api.addGoodsToShoppingCart(goodsId).then(res=>{\r\n                if(res.data.success){\r\n                    ElMessage({\r\n                        message:res.data.msg,\r\n                        type:'success'\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.list-img{\r\n    padding:5px\r\n}\r\n.list-img:hover{\r\n    border:solid 2px red;\r\n}\r\ndiv{\r\n    color:rgb(117, 117, 117)\r\n}\r\n.detail-title{\r\n    display:inline-block;\r\n}\r\n.detail-title-content{\r\n    margin-left: 2rem;\r\n    display:block;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space:nowrap;\r\n    width:60%;\r\n}\r\n</style>"],"mappings":"AAmKA,SAASA,SAAQ,QAAS,cAAc;AACxC,eAAc;EACVC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,WAAW,EAAC,CACR;QACIC,cAAc,EAAC,CAAC;QAChBC,OAAO,EAAC,GAAG;QACXC,mBAAmB,EAAC,0EAA0E;QAC9FC,WAAW,EAAC,6DAA6D;QACzEC,QAAQ,EAAC;MACb,EACH;MACDC,UAAU,EAAC,0GAA0G;MACrHC,UAAU,EAAC;QACf,SAAS,EAAE,GAAG;QACd,WAAW,EAAE,mEAAmE;QAChF,eAAe,EAAE,MAAM;QACvB,eAAe,EAAE,SAAS;QAC1B,aAAa,EAAE,CAAC;QAChB,YAAY,EAAE,MAAM;QACpB,MAAM,EAAE;UACJ,QAAQ,EAAE,EAAE;UACZ,YAAY,EAAE,IAAI;UAClB,UAAU,EAAE;QAChB,CAAC;QACD,kBAAkB,EAAE,CAChB;UACI,eAAe,EAAE,iHAAiH;UAClI,SAAS,EAAE;QACf,EACH;QACD,oBAAoB,EAAE,EAAE;QACxB,qBAAqB,EAAE,CACnB;UACI,uBAAuB,EAAE,CAAC;UAC1B,aAAa,EAAE;QACnB;MAER;IACI;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,IAAI,CAACC,wBAAwB,CAC9BC,YAAY,CAACC,iBACjB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAE;MACR,IAAGA,GAAG,CAACf,IAAI,CAACgB,OAAO,EAAC;QAChB,IAAI,CAACR,UAAU,GAACO,GAAG,CAACf,IAAI,CAACA,IAAG;QAC5B,IAAI,CAACO,UAAU,GAAC,IAAI,CAACC,UAAU,CAACS,gBAAgB,CAAC,CAAC,CAAC,CAACC,aAAa,CAACC,OAAO,CAAC,IAAI,EAAC,IAAI,CAAC,CAACA,OAAO,CAAC,SAAS,EAAC,EAAE;QACzG;QACA,IAAI,CAACT,IAAI,CAACU,aAAa,CAAC,IAAI,CAACZ,UAAU,CAACL,OAAO,CAAC,CAACW,IAAI,CAACC,GAAG,IAAE;UACvD,IAAGA,GAAG,CAACf,IAAI,CAACgB,OAAO,EAAC;YAChB,IAAI,CAACf,WAAW,GAACc,GAAG,CAACf,IAAI,CAACA,IAAG;UACjC;QACJ,CAAC;MACL;IACJ,CAAC;EACL,CAAC;EACDqB,OAAO,EAAC;IACJC,gBAAgBA,CAACC,QAAQ,EAAC;MACtB,IAAI,CAAChB,UAAU,GAACgB,QAAQ,CAACJ,OAAO,CAAC,IAAI,EAAC,IAAI,CAAC,CAACA,OAAO,CAAC,SAAS,EAAC,EAAE;IACpE,CAAC;IACDK,SAASA,CAACrB,OAAO,EAAC;MACd,IAAI,CAACO,IAAI,CAACe,sBAAsB,CAACtB,OAAO,CAAC,CAACW,IAAI,CAACC,GAAG,IAAE;QAChD,IAAGA,GAAG,CAACf,IAAI,CAACgB,OAAO,EAAC;UAChBjB,SAAS,CAAC;YACN2B,OAAO,EAACX,GAAG,CAACf,IAAI,CAAC2B,GAAG;YACpBC,IAAI,EAAC;UACT,CAAC;QACL;MACJ,CAAC;IACL;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}